function toObject(t,e){for(var a={},n=0;n<t.length;n++)a[t[n]]=e[n];return a}String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var a=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>a.length)&&(e=a.length),e-=t.length;var n=a.indexOf(t,e);return-1!==n&&n===e}),function(t){t.fn.datable=function(){var e=t(this).attr("data-datable"),a=e.match(/.{2}/g),n=[],r=t(this).attr("data-datable-divider"),h=r?r:" / ";t.each(a,function(e,a){-1===t.inArray(a,n)?n.push(a):(n.pop(),n.push(a+a))});var l=n.join(h).toUpperCase();t(this).attr("maxlength",l.length),t(this).attr("placeholder",l).val(),t(this).on("keydown",function(e){(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&-1===t.inArray(e.keyCode,[46,8,9,27,13,110,190])&&e.preventDefault(),8==e.keyCode?t(this).val().endsWith(h)&&(t(this).val(t(this).val().replace(new RegExp(h+"$"),"")),e.preventDefault()):t(this).val().length!==l.length&&(t(this).val().length==n[0].length?t(this).val(t(this).val()+h):t(this).val().length==n[0].length+n[1].length+h.length&&t(this).val(t(this).val()+h))}),t(this).on("blur",function(){var e=t(this).val().split(h),a=toObject(n,e),r=0;(a.mm>12||a.mm<1)&&r++,(a.dd>31||a.dd<1)&&r++,(a.yyyy>3e3||a.yyyy<1e3)&&r++,0!==t(this).val().length&&r?t(this).addClass("error").closest(".control-group").addClass("has-error"):t(this).removeClass("error").closest(".control-group").removeClass("has-error")})}}(jQuery);